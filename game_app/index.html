<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=no">
    <title>EcoQuest Adventure - Anh Trai Neo Tet</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <div id="game-container">
        <!-- Main Menu -->
        <div id="main-menu" class="screen">
            <h1 data-text="EcoQuest Adventure">EcoQuest Adventure</h1>
            <div id="best-score" class="score-display">Best Score: 0</div>
            <button id="play-btn" class="menu-button">Play</button>
            <button id="instructions-btn" class="menu-button">Tutorial</button>
        </div>

        <!-- Instructions Screen -->
        <div id="instructions-screen" class="screen hidden">
            <h2>How to Play</h2>
            <div class="instructions-content">
                <div class="control-section">
                    <h3>Controls:</h3>
                    <p>‚Üê or A: Move Left</p>
                    <p>‚Üí or D: Move Right</p>
                    <p>‚Üë or SPACE: Jump</p>
                </div>
                <div class="gameplay-section">
                    <h3>Gameplay:</h3>
                    <p>‚Ä¢ Find and hit Question Mark Boxes (‚ùì) to test your environmental knowledge</p>
                    <p>‚Ä¢ Correct answers earn you gold coins and 100 points!</p>
                    <p>‚Ä¢ Wrong answers cost you one heart ‚ô•</p>
                    <p>‚Ä¢ You have three hearts - lose them all and you'll reset to level 1</p>
                    <p>‚Ä¢ Checkpoints (üö©) save your progress and earn you 20 points</p>
                    <p>‚Ä¢ Avoid the red blocks - costs 20 points and resets your position!</p>
                    <p>‚Ä¢ Complete each level by reaching the end flag while maintaining your health</p>
                </div>
                <div class="obstacles-section">
                    <h3>Obstacles:</h3>
                    <p>‚Ä¢ Gray Platforms - Safe to walk and jump on</p>
                    <p>‚Ä¢ Red Blocks - Hazards that reset your position!</p>
                </div>
            </div>
            <button id="back-to-menu-btn" class="menu-button">Back to Menu</button>
        </div>

        <!-- Congratulations Screen -->
        <div id="congrats-screen" class="screen hidden">
            <h2>Congratulations!</h2>
            <p class="congrats-lead">You guided our skyward hero through every challenge.</p>
            <div class="congrats-card">
                <h3>Social Impact Fun Fact</h3>
                <p id="congrats-fact">Great journeys inspire great change.</p>
            </div>
            <div class="score-summary">
                <p id="final-score">Final Score: 0</p>
                <p id="best-score-summary">Best Score: 0</p>
            </div>
            <button id="congrats-menu-btn" class="menu-button">Back to Main Menu</button>
        </div>

        <!-- Game Area (canvas + HUD) -->
        <div id="game-area" class="hidden">
            <canvas id="gameCanvas"></canvas>

            <!-- Game UI (placed over the canvas inside the game-area) -->
            <div id="game-ui">
                <div id="stats">
                    <div id="health-hearts" aria-label="Health">
                        <img src="assets/images/heart.png" class="heart" data-index="2" alt="Heart">
                        <img src="assets/images/heart.png" class="heart" data-index="1" alt="Heart">
                        <img src="assets/images/heart.png" class="heart" data-index="0" alt="Heart">
                    </div>
                    <span id="gold">Gold: 0</span>
                    <span id="level">Level: 1</span>
                    <span id="score">Score: 0</span>
                </div>
            </div>

            <!-- Back Button (in-game) -->
            <button id="level-menu-btn" class="back-button hidden">Menu</button>
            <button id="back-btn" class="back-button hidden">‚Üê</button>
        </div>

        <!-- Question Modal -->
        <div id="question-modal" class="modal hidden">
            <div class="modal-content">
                <h2>Environmental Question</h2>
                <p id="question-text"></p>
                <div id="answers"></div>
            </div>
        </div>

        <!-- Level Select Modal -->
        <div id="level-select-modal" class="modal hidden">
            <div class="modal-content level-select">
                <h2>Select Level</h2>
                <div id="level-select-buttons"></div>
                <button id="level-select-close" class="close-button">√ó</button>
            </div>
        </div>
    </div>

    <!-- Scripts -->
    <script src="js/gameEngine.js"></script>
    <script src="js/player.js"></script>
    <script src="js/questions.js"></script>
    <script src="js/levels.js"></script>
    <script src="js/main.js"></script>
</body>
</html>